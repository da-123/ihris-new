(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fhir-questionnaire"],{4983:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ihris-section",attrs:{id:"section-"+t.id}},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[t._v(t._s(t.label))]),r("v-card-text",{staticClass:"my-3"},[t._t("default")],2)],1)],1)},n=[],a={name:"ihris-questionnaire-section",props:["id","label","description","path"],data:function(){return{isQuestionnaireGroup:!0}}},s=a,o=r("2877"),c=r("6544"),l=r.n(c),u=r("b0af"),d=r("99d9"),p=Object(o["a"])(s,i,n,!1,null,null,null);e["default"]=p.exports;l()(p,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},5105:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-none"},[r("v-text-field",{attrs:{readonly:"","hide-details":"",dense:"",disabled:""},model:{value:t.hiddenValue,callback:function(e){t.hiddenValue=e},expression:"hiddenValue"}})],1)},n=[],a={name:"ihris-hidden",props:["label","path","hiddenType","hiddenValue"],data:function(){return{qField:"value"+this.hiddenType,value:this.hiddenValue}}},s=a,o=r("2877"),c=r("6544"),l=r.n(c),u=r("8654"),d=Object(o["a"])(s,i,n,!1,null,null,null);e["default"]=d.exports;l()(d,{VTextField:u["a"]})},"91dd":function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,a){e=e||"&",r=r||"=";var s={};if("string"!==typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,p,h,f,v=t[u].replace(o,"%20"),m=v.indexOf(r);m>=0?(d=v.substr(0,m),p=v.substr(m+1)):(d=v,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),i(s,h)?n(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},b383:function(t,e,r){"use strict";e.decode=e.parse=r("91dd"),e.encode=e.stringify=r("e099")},e099:function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===typeof t?a(s(t),(function(s){var o=encodeURIComponent(i(s))+r;return n(t[s])?a(t[s],(function(t){return o+encodeURIComponent(i(t))})).join(e):o+encodeURIComponent(i(t[s]))})).join(e):o?encodeURIComponent(i(o))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},f43a:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"primary white--text text-uppercase font-weight-bold"},[t._v(t._s(t.label))]),r("v-card-text",{staticClass:"my-3"},[t._t("default")],2)],1)},n=[],a={name:"ihris-questionnaire-group",props:["label","path"],data:function(){return{isQuestionnaireGroup:!0}}},s=a,o=r("2877"),c=r("6544"),l=r.n(c),u=r("b0af"),d=r("99d9"),p=Object(o["a"])(s,i,n,!1,null,null,null);e["default"]=p.exports;l()(p,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},f977:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"my-3"},[t._t("default"),r("v-overlay",{attrs:{value:t.overlay}},[r("v-progress-circular",{attrs:{size:"50",color:"primary",indeterminate:""}}),r("v-btn",{attrs:{icon:""},on:{click:function(e){t.overlay=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-navigation-drawer",{staticClass:"primary darken-1 white--text",staticStyle:{"z-index":"3"},attrs:{app:"",right:"",permanent:"",clipped:""}},[r("v-list",{staticClass:"white--text"},[r("v-list-item",[t.isEdit?r("v-btn",{staticClass:"accent darken-1",attrs:{dark:""},on:{click:function(e){return t.$router.go(-1)}}},[r("v-icon",{attrs:{light:""}},[t._v("mdi-content-save")]),r("span",[t._v("Back")])],1):t._e(),r("v-spacer"),r("v-btn",{staticClass:"success darken-1",attrs:{dark:""},on:{click:function(e){return t.processFHIR()}}},[r("v-icon",{attrs:{light:""}},[t._v("mdi-content-save")]),r("span",[t._v("Save")])],1)],1),r("v-divider",{attrs:{color:"white"}}),t.sectionMenu?r("v-subheader",{staticClass:"white--text"},[r("h2",[t._v("Sections")])]):t._e(),t._l(t.sectionMenu,(function(e){return r("v-list-item",{key:e.id,attrs:{href:"#section-"+e.id}},[r("v-list-item-content",{staticClass:"white--text"},[r("v-list-item-title",{staticClass:"text-uppercase"},[r("h4",[t._v(t._s(e.title))])]),r("v-list-item-subtitle",{staticClass:"white--text"},[t._v(t._s(e.desc))])],1)],1)}))],2)],1)],2)},n=[],a=(r("4160"),r("d3b7"),r("ac1f"),r("1276"),r("159b"),r("b383")),s={name:"ihris-questionnaire",props:["id","url","title","description","purpose","section-menu","view-page","edit"],data:function(){return{fhir:{},loading:!1,overlay:!1,isEdit:!1}},created:function(){console.log("QUERY",this.$route.query)},methods:{processFHIR:function(){var t=this;this.overlay=!0,this.loading=!0,this.fhir={resourceType:"QuestionnaireResponse",questionnaire:this.url,status:"completed",item:[]},o(this.fhir.item,this.$children),console.log("SAVE",this.fhir),fetch("/fhir/QuestionnaireResponse?"+a.stringify(this.$route.query),{method:"POST",headers:{"Content-Type":"application/fhir+json"},redirect:"manual",body:JSON.stringify(this.fhir)}).then((function(e){201===e.status&&(e.json().then((function(e){if(t.overlay=!1,t.loading=!1,t.viewPage&&e.subject&&e.subject.reference){var r=e.subject.reference.split("/");r=r[1]?r[1]:e.subject.reference,t.$router.push({name:"resource_view",params:{page:t.viewPage,id:r}})}else t.$router.push({name:"home"})})),t.$store.commit("setMessage",{type:"success",text:"Update successful."}))})).catch((function(e){console.log(e),t.overlay=!1,t.loading=!1,t.$store.commit("setMessage",{type:"error",text:"Failed to update data."})}))}}},o=function t(e,r,i){i||(i={}),r.forEach((function(r){var n=e,a={};if(r.isArray);else if(r.isQuestionnaireGroup){var s={linkId:r.path,text:r.label,item:[]};n.push(s),n=s.item}else if(r.qField){var o;i.hasOwnProperty(r.path)?o=i[r.path]:(o={linkId:r.path,answer:[]},i[r.path]=o,n.push(o));var c={};c[r.qField]=r.value,o.answer.push(c)}r.$children&&t(n,r.$children,a)}))},c=s,l=r("2877"),u=r("6544"),d=r.n(u),p=r("8336"),h=r("a523"),f=r("ce7e"),v=r("132d"),m=r("8860"),y=r("da13"),b=r("5d23"),g=r("f774"),x=r("a797"),C=r("490a"),w=r("2fa4"),_=r("e0c7"),V=Object(l["a"])(c,i,n,!1,null,null,null);e["default"]=V.exports;d()(V,{VBtn:p["a"],VContainer:h["a"],VDivider:f["a"],VIcon:v["a"],VList:m["a"],VListItem:y["a"],VListItemContent:b["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"],VNavigationDrawer:g["a"],VOverlay:x["a"],VProgressCircular:C["a"],VSpacer:w["a"],VSubheader:_["a"]})}}]);
//# sourceMappingURL=fhir-questionnaire.197834e1.js.map